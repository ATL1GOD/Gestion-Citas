<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="card shadow-sm">
        <div class="card-header">
          <h3 class="mb-0">
            {{
              isEditMode
                ? "Editar Recepcionista"
                : "Registrar Nuevo Recepcionista"
            }}
          </h3>
        </div>
        <div class="card-body">
          <form [formGroup]="recepcionistaForm" (ngSubmit)="onSubmit()">
            <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

            <fieldset class="border p-3 mb-3">
              <legend class="w-auto px-2 fs-6">
                Datos Personales y de Cuenta
              </legend>
              <div class="row">
                <div class="col-md-4 mb-3">
                  <label class="form-label">Nombre(s)</label
                  ><input
                    type="text"
                    class="form-control"
                    formControlName="nombre"
                  />
                </div>
                <div class="col-md-4 mb-3">
                  <label class="form-label">Apellido Paterno</label
                  ><input
                    type="text"
                    class="form-control"
                    formControlName="apellidoPat"
                  />
                </div>
                <div class="col-md-4 mb-3">
                  <label class="form-label">Apellido Materno</label
                  ><input
                    type="text"
                    class="form-control"
                    formControlName="apellidoMat"
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-md-4 mb-3">
                  <label class="form-label">Email</label
                  ><input
                    type="email"
                    class="form-control"
                    formControlName="email"
                  />
                </div>
                <div class="col-md-4 mb-3">
                  <label class="form-label">Teléfono</label
                  ><input
                    type="tel"
                    class="form-control"
                    formControlName="telefono"
                  />
                </div>
                <div class="col-md-4 mb-3">
                  <label class="form-label">Contraseña</label
                  ><input
                    type="password"
                    class="form-control"
                    formControlName="contrasena"
                  />
                  <div class="form-text" *ngIf="isEditMode">
                    Dejar en blanco para no modificar.
                  </div>
                </div>
              </div>
            </fieldset>

            <fieldset class="border p-3 mb-3">
              <legend class="w-auto px-2 fs-6">Asignación de Puesto</legend>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="consultorioId" class="form-label"
                    >Consultorio Asignado</label
                  >
                  <select
                    id="consultorioId"
                    class="form-select"
                    formControlName="consultorioId"
                  >
                    <option [ngValue]="null" disabled>
                      Seleccione un consultorio...
                    </option>
                    <option
                      *ngFor="let c of consultorios"
                      [value]="c.idConsultorio"
                    >
                      N° {{ c.numero }} (Piso {{ c.piso }})
                    </option>
                  </select>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="horarioId" class="form-label"
                    >Horario de Trabajo</label
                  >
                  <select
                    id="horarioId"
                    class="form-select"
                    formControlName="horarioId"
                  >
                    <option [ngValue]="null" disabled>
                      Seleccione un horario...
                    </option>
                    <option *ngFor="let h of horarios" [value]="h.idHorario">
                      {{ h.horaInicio }} - {{ h.horaFin }}
                    </option>
                  </select>
                </div>
              </div>
            </fieldset>

            <div class="d-flex justify-content-end mt-3">
              <a
                routerLink="/admin/recepcionistas"
                class="btn btn-secondary me-2"
                >Cancelar</a
              >
              <button
                type="submit"
                class="btn btn-primary"
                [disabled]="recepcionistaForm.invalid"
              >
                {{
                  isEditMode
                    ? "Actualizar Recepcionista"
                    : "Guardar Recepcionista"
                }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
